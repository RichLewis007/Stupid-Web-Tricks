---
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/sections/HeroSection.astro';
import CategoriesSection from '../components/sections/CategoriesSection.astro';
import FeaturesSection from '../components/sections/FeaturesSection.astro';
import ConstellationSystem from '../components/features/ConstellationSystem.astro';
import FloatingShapesCanvas from '../components/features/FloatingShapesCanvas.astro';
import '../styles/animations.css';
---

<Layout title="Stupid Web Tricks - Amazing Web Effects & Animations">
  <!-- Hero Section with Interactive Background -->
  <HeroSection />
  
  <!-- Categories Section -->
  <CategoriesSection />

  <!-- Features Section -->
  <FeaturesSection />
</Layout>

<!-- Interactive Components -->
<ConstellationSystem />
<FloatingShapesCanvas />

<script>
  // Animate category cards on scroll
  document.addEventListener('DOMContentLoaded', function() {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            const target = entry.target as HTMLElement;
            target.style.opacity = '1';
            target.style.transform = 'translateY(0)';
          }, index * 100);
        }
      });
    }, observerOptions);

    // Observe all category cards
    document.querySelectorAll('.category-card').forEach(card => {
      const cardElement = card as HTMLElement;
      cardElement.style.opacity = '0';
      cardElement.style.transform = 'translateY(30px)';
      cardElement.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
      observer.observe(cardElement);
    });
  });
</script>